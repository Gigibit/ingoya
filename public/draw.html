<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InGoya - Draw</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .dg{display:none}video::-webkit-media-controls{display:none}

        :root {
            --background-color: #fffacd;
            --container-bg: #ffffff;
            --primary-color: #ffffff;
            --accent-color: #d4c68a;
            --text-color: #1c1c1e;
            --border-color: #1c1c1e;
            --border-radius: 16px;
            --font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --shadow-color: #fffacd;
        }

        body {
            margin: 0;
            overflow: hidden;
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: var(--font-family);
        }

        #main-container {
            display: flex;
            flex-direction: column;
            width: 100vw;
            height: 100vh;
            padding: 1.5rem;
            box-sizing: border-box;
            gap: 1.5rem;
        }
        
        #top-section { flex-grow: 1; display: flex; justify-content: center; align-items: center; min-height: 0; }
        
        /* --- ✨ MODIFICA APPLICATA QUI ✨ --- */
        #canvas-container { 
            height: 75vh; 
            overflow: hidden; 
            padding: 1rem;
            box-sizing: border-box;
        }
        
        #fluidCanvas { width: 100%; height: 100%; display: block; border-radius: var(--border-radius); }
        .control-group label { display: none; }

        .prompt-container {
            display: flex;
            align-items: center;
            background-color: var(--primary-color);
            border-radius: 30px;
            padding: 6px;
            border: 3px solid var(--border-color);
        }

        .prompt-container input[type=text] {
            flex-grow: 1;
            border: none;
            background: transparent;
            padding: .5rem 1rem;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            outline: none;
            color: var(--text-color);
        }
        
        .prompt-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            padding: 0;
            border-radius: 50%;
            transition: transform .1s ease, background-color 0.2s ease;
            cursor: pointer;
            border: 3px solid var(--border-color);
        }
        .prompt-button:hover:not(:disabled) {
            transform: scale(1.1);
        }
         .prompt-button:active:not(:disabled) {
            transform: scale(1.0);
        }

        #update-params-btn {
            background: var(--accent-color);
            color: white;
            font-size: 1.5rem;
            line-height: 1;
        }
        #update-params-btn:disabled {
            background: #ccc;
            border-color: #999;
            cursor: not-allowed;
        }

        #mic-button {
            background: #f8f8f8;
            margin-right: 8px;
        }
        
        #mic-button svg {
            width: 24px;
            height: 24px;
            fill: var(--text-color);
            transition: fill 0.2s;
        }

        #mic-button:hover svg {
            fill: var(--accent-color);
        }

        #join-container { top: 0; left: 0; width: 100%; height: 100%; background-color: var(--background-color); z-index: 10; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem; }
        .decision-making-process-element { display: none; }
        #code-input { font-family: monospace; font-size: 2rem; text-align: center; letter-spacing: 3px; text-transform: uppercase; width: 200px; padding: 10px; border: 3px solid var(--border-color); border-radius: 8px; box-shadow: 4px 4px 0px var(--shadow-color); }
        #join-btn { background-color: var(--accent-color); color: white; border: 3px solid var(--border-color); padding: 10px 30px; font-size: 1rem; font-weight: bold; border-radius: 8px; cursor: pointer; box-shadow: 4px 4px 0px var(--shadow-color); transition: all 0.1s ease; }
        #join-btn:hover { transform: translate(2px, 2px); box-shadow: 2px 2px 0px var(--shadow-color); }
    </style>
</head>
<body>
    <div id="canvas-container"><canvas id="fluidCanvas"></canvas></div>
    
    <div id="main-container">
        <div class="control-group">
            <div class="prompt-container">
                <button id="mic-button" class="prompt-button">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">
  <path d="M128 0C108.7 0 92.5 16.3 92.5 35.5C92.5 54.7 108.7 71 128 71C147.3 71 163.5 54.7 163.5 35.5C163.5 16.3 147.3 0 128 0zM128 107.5C93.4 107.5 65.5 135.4 65.5 170C65.5 204.6 93.4 232.5 128 232.5C162.6 232.5 190.5 204.6 190.5 170C190.5 135.4 162.6 107.5 128 107.5zM224 256C224 251.7 220.3 248 216 248C211.7 248 208 251.7 208 256C208 300.7 172.7 336 128 336C83.3 336 48 300.7 48 256C48 251.7 44.3 248 40 248C35.7 248 32 251.7 32 256C32 309 67.5 353.4 112 365.1V400C112 404.3 115.7 408 120 408C124.3 408 128 404.3 128 400V365.1C172.5 353.4 208 309 208 256V248C208 243.7 211.7 240 216 240C220.3 240 224 243.7 224 248V256zM128 448C93.4 448 65.5 475.9 65.5 510.5C65.5 545.1 93.4 573 128 573C162.6 573 190.5 545.1 190.5 510.5C190.5 475.9 162.6 448 128 448z"/>
</svg>
                </button>
                <input type="text" id="prompt" placeholder="cosa vuoi vedere...">
                <button id="update-params-btn" class="prompt-button">&#10148;</button>
            </div>
        </div>
    </div>
  
    <div id="join-container" class="decision-making-process-element">
        <h1>Inserisci il codice della sessione</h1>
        <input type="text" id="code-input" maxlength="6">
        <button id="join-btn">Unisciti</button>
    </div>

    <script>window.audioManaged = true</script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="dat.gui.min.js"></script>
    <script type="text/javascript" src="webgl.js"></script>
    <!-- <script type="text/javascript" src="feel_music.js"></script> -->
    <script type="text/javascript" src="draw.js"></script>
    <script type="text/javascript" src="interpreter.js"></script>
</body>
</html>